<template>
    <div class="logo-container w-40">
        <!-- SVG логотипа -->
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="4.4688 3.649 461.9999 146.702"
            width="100%"
            height="100%"
            class="logo-svg"
            :class="{ 'logo-animated': isAnimated }"
        >
            <defs>
                <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="0" dy="5" stdDeviation="5" flood-color="#475059" flood-opacity="0.15" />
                </filter>
            </defs>
            <g filter="url(#shadow)" transform="matrix(0.9999999999999999, 0, 0, 0.9999999999999999, -94.53125, -126.5)" id="object-0">
                <g transform="translate(99, 130.149)">
                    <svg x="0" y="0" width="129.45" height="146.702" viewBox="0.6990001201629639 0.928152322769165 86.60199737548828 98.1436996459961">
                        <!-- Шестиугольник -->
                        <g class="svg-logo-1">
                            <path d="M47 1.732l37.301 21.536a6 6 0 0 1 3 5.196v43.072a6 6 0 0 1-3 5.196L47 98.268a6 6 0 0 1-6 0L3.699 76.732a6 6 0 0 1-3-5.196V28.464a6 6 0 0 1 3-5.196L41 1.732a6 6 0 0 1 6 0z" />
                        </g>
                    </svg>
                </g>
                <g transform="translate(129.316, 168.291)">
                    <svg x="0" y="0" width="68.8184" height="70.4172" viewBox="6.999999523162842 5.999825477600098 86 87.9979476928711">
                        <!-- Значок внутри шестиугольника -->
                        <g class="svg-logo-2">
                            <path d="M49.957 6a3.949 3.949 0 0 0-1.473.297l-39 16H9.48a4.002 4.002 0 0 0-2.48 3.7v48c0 1.624.98 3.085 2.48 3.702l39 16h.004a3.993 3.993 0 0 0 3.031 0l39-16h.004A4.002 4.002 0 0 0 93 74V26c0-1.625-.98-3.086-2.48-3.7l-39-16h-.003a4.012 4.012 0 0 0-1.56-.3zM50 14.32L78.465 26 50 37.676 21.535 26zM15 31.961l31 12.72v39.351L15 71.313zm70 0v39.355l-31 12.72V44.682z" />
                        </g>
                    </svg>
                </g>
                <g transform="translate(246.201, 172.114)">
                    <svg x="0" y="0" width="314.799" height="66.3311" viewBox="4.949999809265137 -65.48999786376953 314.80999755859375 66.32000732421875">
                        <!-- Текст "gofra" -->
                        <g class="svg-logo-3">
                            <path d="M59.62 -33.71C58.77 -34.53 57.63 -34.95 56.23 -34.95L39.99 -34.95C38.52 -34.95 37.38 -34.58 36.55 -33.85C35.73 -33.11 35.31 -32.07 35.31 -30.73C35.31 -29.38 35.73 -28.34 36.55 -27.61C37.38 -26.88 38.52 -26.51 39.99 -26.51L50.36 -26.51L50.36 -10.27C46.2 -9.11 42.04 -8.53 37.88 -8.53C23.94 -8.53 16.97 -16.48 16.97 -32.38C16.97 -40.15 18.67 -46 22.06 -49.94C25.45 -53.89 30.48 -55.86 37.15 -55.86C40.08 -55.86 42.71 -55.48 45.04 -54.71C47.36 -53.95 49.87 -52.62 52.56 -50.72C53.29 -50.24 53.93 -49.88 54.49 -49.67C55.04 -49.46 55.65 -49.35 56.32 -49.35C57.36 -49.35 58.25 -49.81 58.98 -50.72C59.71 -51.64 60.08 -52.77 60.08 -54.12C60.08 -55.04 59.91 -55.83 59.58 -56.5C59.24 -57.18 58.7 -57.85 57.97 -58.52C52.47 -63.17 45.4 -65.49 36.78 -65.49C30.3 -65.49 24.67 -64.16 19.9 -61.5C15.13 -58.84 11.45 -55.02 8.85 -50.04C6.25 -45.05 4.95 -39.17 4.95 -32.38C4.95 -25.47 6.25 -19.52 8.85 -14.54C11.45 -9.55 15.2 -5.75 20.09 -3.12C24.98 -0.49 30.76 0.83 37.42 0.83C40.42 0.83 43.54 0.58 46.78 0.09C50.02 -0.4 52.86 -1.07 55.31 -1.93C57.57 -2.66 59.07 -3.61 59.81 -4.77C60.54 -5.93 60.91 -7.92 60.91 -10.73L60.91 -30.45C60.91 -31.8 60.48 -32.88 59.62 -33.71Z M86.63 -3.21C91.25 -0.52 96.71 0.83 103.01 0.83C109.25 0.83 114.67 -0.52 119.29 -3.21C123.91 -5.9 127.47 -9.75 129.98 -14.77C132.48 -19.78 133.74 -25.65 133.74 -32.38C133.74 -39.11 132.5 -44.96 130.02 -49.94C127.54 -54.93 124 -58.77 119.38 -61.46C114.76 -64.15 109.31 -65.49 103.01 -65.49C96.71 -65.49 91.24 -64.15 86.59 -61.46C81.94 -58.77 78.38 -54.93 75.9 -49.94C73.43 -44.96 72.19 -39.11 72.19 -32.38C72.19 -25.65 73.44 -19.78 75.95 -14.77C78.46 -9.75 82.02 -5.9 86.63 -3.21ZM116.9 -14.77C113.57 -10.67 108.94 -8.62 103.01 -8.62C97.02 -8.62 92.35 -10.67 89.02 -14.77C85.69 -18.86 84.02 -24.74 84.02 -32.38C84.02 -40.02 85.69 -45.88 89.02 -49.94C92.35 -54.01 97.02 -56.04 103.01 -56.04C108.94 -56.04 113.57 -54.01 116.9 -49.94C120.24 -45.88 121.9 -40.02 121.9 -32.38C121.9 -24.74 120.24 -18.86 116.9 -14.77Z M147.27 -1.1C148.34 0 149.76 0.55 151.53 0.55C153.3 0.55 154.71 0 155.75 -1.1C156.79 -2.2 157.31 -3.64 157.31 -5.41L157.31 -28.16L181.71 -28.16C185.44 -28.16 187.3 -29.72 187.3 -32.84C187.3 -36.02 185.44 -37.61 181.71 -37.61L157.31 -37.61L157.31 -55.22L183.54 -55.22C187.27 -55.22 189.14 -56.78 189.14 -59.9C189.14 -63.08 187.27 -64.67 183.54 -64.67L151.35 -64.67C149.57 -64.67 148.18 -64.18 147.17 -63.2C146.16 -62.22 145.66 -60.84 145.66 -59.07L145.66 -5.41C145.66 -3.64 146.2 -2.2 147.27 -1.1Z M250.41 -4.22C250.41 -5.26 250.04 -6.33 249.31 -7.43L240.96 -20.18C239.68 -22.14 238.36 -23.67 237.02 -24.77C235.67 -25.87 234.11 -26.63 232.34 -27.06C237.54 -27.98 241.56 -30.04 244.4 -33.25C247.25 -36.46 248.67 -40.57 248.67 -45.59C248.67 -51.76 246.76 -56.49 242.94 -59.76C239.11 -63.03 233.53 -64.67 226.2 -64.67L203.26 -64.67C201.49 -64.67 200.1 -64.18 199.09 -63.2C198.08 -62.22 197.58 -60.84 197.58 -59.07L197.58 -5.41C197.58 -3.58 198.11 -2.12 199.18 -1.05C200.25 0.02 201.67 0.55 203.45 0.55C205.22 0.55 206.63 0.02 207.67 -1.05C208.71 -2.12 209.23 -3.58 209.23 -5.41L209.23 -25.96L218.22 -25.96C220.42 -25.96 222.21 -25.56 223.58 -24.77C224.96 -23.97 226.26 -22.6 227.48 -20.64L239.68 -2.11C240.29 -1.19 241.04 -0.5 241.93 -0.05C242.81 0.41 243.75 0.64 244.72 0.64C246.25 0.64 247.58 0.18 248.71 -0.73C249.85 -1.65 250.41 -2.81 250.41 -4.22ZM234.36 -37.56C232.28 -35.88 229.01 -35.04 224.54 -35.04L209.13 -35.04L209.13 -55.49L224.54 -55.49C229.01 -55.49 232.28 -54.68 234.36 -53.06C236.44 -51.44 237.48 -48.86 237.48 -45.31C237.48 -41.83 236.44 -39.24 234.36 -37.56Z M319.76 -4.68C319.76 -5.47 319.57 -6.27 319.21 -7.06L293.8 -61.46C293.25 -62.68 292.41 -63.61 291.28 -64.25C290.14 -64.9 288.94 -65.22 287.65 -65.22C286.37 -65.22 285.16 -64.9 284.03 -64.25C282.9 -63.61 282.06 -62.68 281.51 -61.46L256.19 -7.06C255.82 -6.27 255.64 -5.47 255.64 -4.68C255.64 -3.27 256.22 -2.08 257.38 -1.1C258.54 -0.12 259.83 0.37 261.23 0.37C262.27 0.37 263.22 0.11 264.08 -0.41C264.93 -0.93 265.61 -1.74 266.1 -2.84L271.6 -15.13L303.89 -15.13L309.39 -2.84C309.88 -1.74 310.55 -0.93 311.41 -0.41C312.26 0.11 313.18 0.37 314.16 0.37C315.63 0.37 316.93 -0.12 318.06 -1.1C319.19 -2.08 319.76 -3.27 319.76 -4.68ZM275.64 -24.31L287.74 -51.55L299.85 -24.31Z" />
                        </g>
                    </svg>
                </g>
            </g>
        </svg>
    </div>
</template>

<script setup>
import { ref, onMounted, watch } from 'vue';

const isAnimated = ref(false);

// Функция для запуска анимации после монтирования компонента
const startAnimation = () => {
    // Небольшая задержка, чтобы убедиться, что SVG загружен и отрисован
    // и чтобы анимация сработала при первом рендере
    setTimeout(() => {
        isAnimated.value = true;
    }, 10); // 10ms обычно достаточно
};

onMounted(() => {
    startAnimation();
});

// Опционально: перезапуск анимации при изменении темы
// Наблюдаем за классом 'dark' на html
watch(
    () => document.documentElement.classList.contains('dark'),
    () => {
        // Сбрасываем анимацию
        isAnimated.value = false;
        // Перезапускаем после небольшой задержки
        setTimeout(() => {
            isAnimated.value = true;
        }, 10);
    }
);
</script>

<style scoped>
.logo-container {
    display: flex;
    justify-content: center; /* Центрируем логотип */
    align-items: center;
    margin: 1rem 0; /* Отступ сверху/снизу */
    /* Убедимся, что контейнер имеет фиксированную высоту, если нужно */
    /* height: 150px; */
}

.logo-svg {
    max-width: 100%;
    height: auto;
}

/* Определяем начальные стили для элементов */
.logo-svg .svg-logo-1,
.logo-svg .svg-logo-2,
.logo-svg .svg-logo-3 {
    /* Устанавливаем начальный fill как прозрачный */
    fill: transparent;
    /* Определяем transition с задержками */
    transition: fill 0.3s cubic-bezier(0.47, 0, 0.745, 0.715);
}

.logo-svg .svg-logo-1 {
    transition-delay: 0.4s;
}

.logo-svg .svg-logo-2 {
    transition-delay: 0.6s;
}

.logo-svg .svg-logo-3 {
    transition-delay: 0.8s;
}

/* Определяем стили при активной анимации (класс 'logo-animated') */
.logo-svg.logo-animated .svg-logo-1 {
    fill: #0bb14b; /* Зелёный цвет */
}

.logo-svg.logo-animated .svg-logo-2 {
    /* В светлой теме - белый, в тёмной - темно-серый (или другой цвет фона) */
    fill: var(--logo-inner-color-light, #ffffff);
}

.dark .logo-svg.logo-animated .svg-logo-2 {
    fill: var(--logo-inner-color-dark, #1f2937); /* Цвет для тёмной темы */
}

.logo-svg.logo-animated .svg-logo-3 {
    fill: #0bb14b; /* Зелёный цвет */
}

/* Опционально: определите CSS переменные в :root и .dark для гибкости */
:root {
    --logo-inner-color-light: #ffffff;
    --logo-inner-color-dark: #1f2937; /* или другой цвет по вашему выбору */
}
</style>
